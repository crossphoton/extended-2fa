(this["webpackJsonpextended-2fa"]=this["webpackJsonpextended-2fa"]||[]).push([[0],{159:function(e,t){},161:function(e,t){},171:function(e,t){},173:function(e,t){},200:function(e,t){},202:function(e,t){},203:function(e,t){},208:function(e,t){},210:function(e,t){},216:function(e,t){},218:function(e,t){},237:function(e,t){},249:function(e,t){},252:function(e,t){},279:function(e,t,n){"use strict";n.r(t);var i=n(0),r=n(32),a=(t=n.n(r),n(17)),c=n(301),o=n(298),s=n(299),l=n(3);function u(){return Object(l.jsx)(c.a,{position:"static",children:Object(l.jsx)(o.a,{children:Object(l.jsx)(s.a,{variant:"h6",children:"Extended 2FA"})})})}for(var d=n(300),h=n(78),p=function(e){var t=(a=e.details).secret,n=a.issuer,i=a.label,r=a.algorithm,a=(e=a.digits,a.step);return h.authenticator.options={step:a,digits:e,algorithm:r},t=h.authenticator.generate(t),Object(l.jsxs)("div",{className:"totp-card",style:{width:"90vw",margin:"30px 0px",display:"flex",justifyContent:"space-between",alignItems:"center",fontWeight:"900",fontSize:"30px",border:"1px solid black",padding:"10px"},children:[Object(l.jsxs)("div",{className:"left",children:[Object(l.jsx)("div",{className:"provider-name",children:n}),Object(l.jsx)("div",{className:"account-name",style:{fontWeight:"300",fontSize:"10px"},children:i})]}),Object(l.jsx)("div",{className:"code",style:{display:"flex",alignItems:"center"},children:Object(l.jsx)("div",{children:t})})]})},j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=new Uint8Array(256),b=0;b<j.length;b++)f[j.charCodeAt(b)]=b;var g=function(e){var t,n,i,r,a=.75*e.length,c=e.length,o=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);a=new ArrayBuffer(a);for(var s=new Uint8Array(a),l=0;l<c;l+=4)t=f[e.charCodeAt(l)],n=f[e.charCodeAt(l+1)],i=f[e.charCodeAt(l+2)],r=f[e.charCodeAt(l+3)],s[o++]=t<<2|n>>4,s[o++]=(15&n)<<4|i>>2,s[o++]=(3&i)<<6|63&r;return a},x=n(51),m=!0;function v(e){var t=e.setAuthorized;function n(){navigator.credentials.preventSilentAccess(),navigator.credentials.create({publicKey:{authenticatorSelection:{authenticatorAttachment:"platform",userVerification:"required"},challenge:g(Object(x.randomBytes)(16).toString("hex")),rp:{id:document.domain,name:"crossphoton inc."},user:{id:g(Object(x.randomBytes)(4).toString("hex")),name:"You",displayName:"You"},pubKeyCredParams:[{type:"public-key",alg:-7},{type:"public-key",alg:-257}]}}).then((function(){return t(!0)})).catch((function(e){"NotAllowedError: The operation either timed out or was not allowed. See: https://www.w3.org/TR/webauthn-2/#sctn-privacy-considerations-client.".toString()===e.toString()&&(t(!0),localStorage.setItem("fingerprint","false"))}))}return m&&(m=!1,n()),Object(l.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-between",minHeight:"60vh",margin:"100px 30px 30px 30px",alignItems:"center"},children:[Object(l.jsx)("p",{children:"Authorization required"}),Object(l.jsx)(d.a,{onClick:n,variant:"contained",color:"secondary",children:"SCAN FINGERPRINT"})]})}var y=n(53),O=void 0;function S(e){var t=e.showScanner,n=Object(i.useState)(!y.isMobile||"false"===localStorage.getItem("fingerprint")),r=(s=Object(a.a)(n,2))[0],c=s[1],o=JSON.parse(localStorage.getItem("collection")),s=(e=Object(i.useState)(o&&o.map((function(e,t){return Object(l.jsx)(p,{details:e},t)}))),(n=Object(a.a)(e,2))[0]),u=n[1];e=function(){(o=JSON.parse(localStorage.getItem("collection")))&&u(o.map((function(e,t){return Object(l.jsx)(p,{details:e},t)})))},n=y.isMobile?"No credentials found. Add some using the button below.":"This app is not meant for desktop devices as of now. Peace.";return O=clearInterval(O),O=setInterval(e,3e4),r?Object(l.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[null==o?Object(l.jsx)("div",{style:{margin:100},children:n}):Object(l.jsx)("div",{children:s}),Object(l.jsxs)("div",{align:"center",children:[y.isMobile&&Object(l.jsx)(d.a,{style:{margin:"10px"},variant:"contained",color:"primary",onClick:function(){O=clearInterval(O),t(!0)},children:"ADD"}),Object(l.jsx)(d.a,{style:{margin:"10px"},onClick:e,variant:"contained",color:"primary",children:"Refresh"})]})]}):Object(l.jsx)(v,{authorized:r,setAuthorized:c})}var w={page:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}};function A(e){return e=e.showScanner,Object(l.jsx)("div",{style:w.page,children:Object(l.jsx)("div",{className:"main-content",children:Object(l.jsx)(S,{showScanner:e})})})}r=n(79);var I=n.n(r),N=n(139),C=n(140),k=n(80),R=n(52);function q(e){var t=!0,n={};e=function(e){if("string"!=typeof e||e.length<7)return null;var t=/otpauth:\/\/([A-Za-z]+)\/([^?]+)\??(.*)?/i.exec(e);if(!t||t.length<3)return null;var n=Object(a.a)(t,3),i=(n[0],n[1]);e=n[2];return i&&e?(n=(e=(n=decodeURIComponent(e)).split(/: ?/))&&2===e.length?{issuer:e[0],account:e[1]}:{issuer:"",account:n},t=t[3]?new URLSearchParams(t[3]):[],t=Object(R.a)(t).reduce((function(e,t){t=(n=Object(a.a)(t,2))[0];var n=n[1];return e[t]=n,e}),{}),{type:i.toLowerCase(),label:n,query:t}):null}(e);return n.secret=e.query.secret,n.issuer=e.query.issuer||e.label.issuer||"N/A",n.algorithm=e.query.algorithm||"sha1",n.digits=Number(e.query.digits)||6,n.step=Number(e.query.period)||30,n.label=e.label.account,n.algorithm=String(n.algorithm).toLowerCase(),null==n.secret&&(t=!1),(t=null!=n.label&&t)?n:null}function T(e){k.a.WORKER_PATH=C.a;var t,n=e.hideScanner;function r(){var e=document.getElementById("scanner-video-element");function i(){return(i=Object(N.a)(I.a.mark((function e(i){var r,a,c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==(r=q(i))){e.next=5;break}t.stop(),e.next=6;break;case 5:return e.abrupt("return");case 6:a=[],null==(c=JSON.parse(localStorage.getItem("collection")))?localStorage.setItem("collection",JSON.stringify(a)):a=c,a.push(r),localStorage.setItem("collection",JSON.stringify(a)),localStorage.setItem("toPush",!0),n(!0);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(t=new k.a(e,(function(e){return i.apply(this,arguments)}))).start()}return Object(i.useEffect)(r),Object(l.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(l.jsx)("video",{id:"scanner-video-element",style:{maxWidth:"100vw",maxHeight:"100vh",padding:"10px 10px"}}),Object(l.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-evenly"},children:[Object(l.jsx)(d.a,{style:{padding:"20 5"},variant:"outlined",onClick:r,children:"START"}),Object(l.jsx)(d.a,{style:{padding:"20 5"},variant:"outlined",onClick:function(){t&&t.stop(),n(!0)},children:"STOP"})]})]})}n=function(){var e=Object(i.useState)(!1),t=Object(a.a)(e,2),n=(e=t[0],t[1]);return e?Object(l.jsx)(T,{hideScanner:function(e){return n(!e)}}):Object(l.jsxs)("div",{style:{width:"100%",height:"100%"},children:[Object(l.jsx)(u,{}),Object(l.jsx)(A,{showScanner:n})]})},t.a.render(Object(l.jsx)(n,{}),document.getElementById("root"))}},[[279,1,2]]]);